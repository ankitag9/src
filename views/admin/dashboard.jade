include ../includeHeader
link(href='css/bookb-dash-admin.css', rel='stylesheet')
title BookBanyan | Admin
body
    include header
    section.dashboard
        .container-fluid
            .row
                include sidebar
                .col-md-10.col-lg-10.col-sm-10.col-xs-12
                    .tab-content
                        #admindash1.tab-pane.fade.in.active
                            //.row
                                .col-sm-offset-1.col-sm-10.sortboxes
                                    ul
                                        li
                                            span.button-checkbox
                                                button.btn(type='button', data-color='warning')  All
                                                input.hidden(type='checkbox', checked='checked')
                                        li
                                            span.button-checkbox
                                                button.btn(type='button', data-color='primary')
                                                    span.hiddenfor Manuscript
                                                    span.icon-documents.iconforbtn
                                                input.hidden(type='checkbox', checked='checked')
                                        li
                                            span.button-checkbox
                                                button.btn(type='button', data-color='danger')
                                                    span.hiddenfor Books
                                                    span.icon-notebook.iconforbtn
                                                input.hidden(type='checkbox', checked='checked')
                                        li
                                            span.button-checkbox
                                                button.btn(type='button', data-color='info')
                                                    span.hiddenfor Review
                                                    span.icon-expand.iconforbtn
                                                input.hidden(type='checkbox', checked='checked')
                            //.row
                                .col-xs-12.col-sm-10.col-sm-offset-1.notifboxes
                                    .row
                                        .col-xs-3.col-sm-2.text-center
                                            span.icon-documents.iconswrap.manuicon
                                        .col-xs-9.col-sm-10.col-md-9.col-lg-9.manuscriptbox
                                            span.innerboxmatter A new manuscript is available
                                        .col-sm-12.col-md-11.col-lg-11
                                            .infoboxmatter2
                                                table.table.table-responsive
                                                    tbody
                                                        tr
                                                            td title
                                                            td My book
                                                        tr
                                                            td Author name
                                                            td Ravi kumar
                                                        tr
                                                            td Author email
                                                            td
                                                                | ravirenus
                                                                | @gmail.com
                                                        tr
                                                            td file Link
                                                            td
                                                                a(href='') manuscript.docx
                                            .innerboxmatter1
                                                a.btn.btn-sm.btn-default(href='') allot to blogger
                                                a.btn.btn-sm.btn-default(href='') Accept
                                                a.btn.btn-sm.btn-default(href='') Reject
                            //
                              row
                            //.row
                                .col-xs-12.col-sm-10.col-sm-offset-1.notifboxes
                                    .row
                                        .col-xs-3.col-sm-2.col-md-2.col-lg-2.text-center
                                            span.icon-notebook.iconswrap.bookicon
                                        .col-xs-9.col-sm-10.col-md-9.col-lg-9.bookbox
                                            span.innerboxmatter
                                                | A new book is available
                                        .col-sm-12.col-md-11.col-lg-11
                                            .infoboxmatter2
                                                table.table.table-responsive
                                                    tbody
                                                        tr
                                                            td title
                                                            td My book
                                                        tr
                                                            td Author name
                                                            td Ravi kumar
                                                        tr
                                                            td Author email
                                                            td
                                                                | ravirenus
                                                                | @gmail.com
                                                        tr
                                                            td file link
                                                            td
                                                                a(href='') summary.docx
                                                                br
                                                                a(href='') full-book.docx
                                            .innerboxmatter1
                                                a.btn.btn-sm.btn-default(href='') view
                                                a.btn.btn-sm.btn-default(href='') allot to blogger
                                                a.btn.btn-sm.btn-default(href='') reject
                            //
                              row
                            //
                              new exp
                            //.row
                                .col-xs-12.col-sm-10.col-sm-offset-1.notifboxes
                                    .row
                                        .col-xs-3.col-sm-2.col-md-2.col-lg-2.text-center
                                            span.icon-notebook.iconswrap.bookicon
                                        .col-xs-9.col-sm-10.col-md-9.col-lg-9.bookbox
                                            span.innerboxmatter
                                                | A new book is available
                                        .col-sm-12.col-md-11.col-lg-11
                                            .infoboxmatter2.newxp
                                                table.table.table-responsive
                                                    tbody
                                                        tr
                                                            td title
                                                            td My book
                                                        tr
                                                            td Author name
                                                            td Ravi kumar
                                                        tr
                                                            td Author email
                                                            td
                                                                | ravirenus
                                                                | @gmail.com
                                                        tr
                                                            td file link
                                                            td
                                                                a(href='') summary.docx
                                                                br
                                                                a(href='') full-book.docx
                                            .innerboxmatter1
                                                a.btn.btn-sm.btn-default(href='') view
                                                a.btn.btn-sm.btn-default(href='') allot to blogger
                                                a.btn.btn-sm.btn-default(href='') reject
                            //
                              row
                            .row
                                each review in reviews
                                    .col-xs-12.col-sm-10.col-sm-offset-1.notifboxes
                                        .row
                                            .col-xs-3.col-sm-2.col-md-2.col-lg-2.text-center
                                                span.icon-expand.iconswrap.reviewicon1
                                            .col-xs-9.col-sm-10.col-md-9.col-lg-9.reviewbox1
                                                span.innerboxmatter A new review is available
                                            .col-sm-12.col-md-11.col-lg-11
                                                .infoboxmatter2.newxp
                                                    table.table.table-responsive
                                                        tbody
                                                            tr
                                                                td.visible-md.visible-lg Title
                                                                td #{review.book.title}
                                                            tr
                                                                td.visible-md.visible-lg blogger name
                                                                td #{review.user.name}
                                                            //tr
                                                                td.visible-md.visible-lg blogger url
                                                                td
                                                                    a(href='') ravirenus.blogspot.com
                                                            tr
                                                                td.visible-md.visible-lg review
                                                                td
                                                                    p
                                                                        img.pull-right.revimg11(src='rest/book/' + review.book.id + '/cover', alt='1')
                                                                        | #{review.review}
                                                                        //a(href='')
                                                                            small read more
                                                .innerboxmatter1
                                                    //a.btn.btn-sm.btn-default(href='') view
                                                    //a.btn.btn-sm.btn-default(href='') comment
                                                    a.btn.btn-sm.btn-default.acceptReview(data-id=review.id) accept
                                                    a.btn.btn-sm.btn-default.rejectReview(data-id=review.id) reject
                            //
                              row
                            //.row
                                .col-xs-12.col-sm-10.col-sm-offset-1.notifboxes
                                    .row
                                        .col-xs-3.col-sm-2.col-md-2.col-lg-2.text-center
                                            span.icon-expand.iconswrap.reviewicon1
                                        .col-xs-9.col-sm-10.col-md-9.col-lg-9.reviewbox1
                                            span.innerboxmatter
                                                | A new review is available
                                        .col-sm-12.col-md-11.col-lg-11
                                            .infoboxmatter2.newxp
                                                table.table.table-responsive
                                                    tbody
                                                        tr
                                                            td.visible-md.visible-lg Title
                                                            td suicide at IIT
                                                        tr
                                                            td.visible-md.visible-lg blogger name
                                                            td ravi
                                                        tr
                                                            td.visible-md.visible-lg blogger url
                                                            td
                                                                a(href='') ravirenus.blogspot.com
                                                        tr
                                                            td.visible-md.visible-lg review
                                                            td
                                                                p
                                                                    img.pull-right.revimg11(src='img/book2.jpg', alt='1')
                                                                    | Lorem ipsum dolor sit amet, consectetur adipisicing elit. Iusto, reiciendis, ullam, numquam vitae sed quisquam Lorem ipsum dolor sit amet, consectetur adipisicing elit. Adipisci, optio, cum, sunt, praesentium repudiandae eos quia minima ducimus maxime at voluptatem incidunt repellendus quas dolores omnis esse inventore temporibus facere. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ducimus, nihil, asperiores, quos placeat laboriosam quibusdam odio veniam neque maxime maiores reprehenderit officia eius repudiandae nulla nostrum dignissimos incidunt. Dicta, iure!
                                            .commentfield
                                                form(action='')
                                                    textarea.form-control(type='text', rows='8', placeholder='write comment here')
                                                    .cmntbtns
                                                        a.btn.btn-md.btn-info(href='') Comment
                                                        a.btn.btn-md.btn-info(href='') cancel
                        #admindash2.tab-pane.fade.in.active
                            .row
                                .col-sm-offset-1.col-sm-10.sortboxes
                                    ul
                                        li
                                            button.btn#addNewBookBtn(type='button', data-color='danger')
                                                span.hiddenfor Add New Book
                                                span.icon-documents.iconforbtnAdd
                            .row#addNewBook
                                .col-xs-12.col-sm-10.col-sm-offset-1.notifboxes
                                    form.form-horizontal#addBookForm(role='form', method='POST')
                                        .col-md-12.personal-d
                                            h6 Details
                                            .form-group
                                                label.col-sm-3.control-label(for='title') Title
                                                .col-sm-9
                                                    input#title.form-control(name="title", type='name', placeholder='Book Title')
                                            .form-group
                                                label.col-sm-3.control-label Author
                                                .col-sm-9
                                                    input#author.form-control(name='author', placeholder='Author')
                                            .form-group
                                                label.col-sm-3.control-label Genre
                                                .col-sm-9
                                                    select.form-control#genre(name='genre')
                                                        each key,option in BookGenre
                                                            option(value="#{option}") #{key}
                                            .form-group
                                                label.col-sm-3.control-label Summary
                                                .col-sm-9
                                                    textarea#summary.form-control(name='summary',type='text', rows='8', placeholder='Summary')
                                        .col-md-8.text-right
                                            input#register.btn.btn-large.btn-info(type='submit', value="Create")
                                            a#cancelAddBook.btn.btn-large.btn-info Cancel
                            .row#booksTable
                                .col-xs-12.col-sm-10.col-sm-offset-1.notifboxes
                                    table-responsive
                                        table.table.table-bordered
                                            tr
                                                th Id
                                                th Title
                                                th Author
                                                th Genre
                                                th Cover Photo
                                                th Review
                                            tbody
                                                each book in books
                                                    tr
                                                        td
                                                            a(href="/book/" + book.id, target="_blank")= book.id
                                                        td= book.title
                                                        td= book.author
                                                        td= BookGenre[book.genre]
                                                        td
                                                            .col-md-6
                                                                img(src="/rest/book/" + book.id + '/cover?imageSize=50')
                                                            .col-md-6
                                                                .image-edit
                                                                    a.btn.btn-success.btn-xs(href="javascript: void(0);")#selectFileBtn
                                                                        i.icon-pencil
                                                                    form#fileUploadForm(action="/rest/book/" + book.id + "/cover", method="post", enctype="multipart/form-data")
                                                                        input#selectFile(type='file', name='profile', style='display: none')
                                                                        input#selectFileSubmit(type='submit', style='display: none')
                                                        td
                                                            a.btn.btn-large.btn-info.sendForReview(data-id=book.id) Send For Review
                            .row#selectBlogger
                                form.form-horizontal#selectBloggerForm(role='form', method='POST')
                                    .col-md-12.personal-d
                                        .form-group
                                            label.col-sm-3.control-label BLogger
                                            .col-sm-9
                                                select.form-control(name='bloggerId')
                                                    each user in users
                                                        option(value="#{user.id}") #{user.name}(#{user.email})
                                    .col-md-8.text-right
                                        input#send.btn.btn-large.btn-info(type='submit', value="Send")
                                        a#cancelSelectBlogger.btn.btn-large.btn-info Cancel
                        #admindash5.tab-pane.fade.in.active
                            .row#usersTable
                                .col-xs-12.col-sm-10.col-sm-offset-1.notifboxes
                                    table-responsive
                                        table.table.table-bordered
                                            tr
                                                th Id
                                                th Name
                                                th Email
                                                th Role
                                            tbody
                                                each user in users
                                                    tr
                                                        td= user.id
                                                        td= user.name
                                                        td= user.email
                                                        td= UserRole[user.user_type]
script(src="js/admin_dashboard.js")
script(src="js/bookCoverUpload.js")